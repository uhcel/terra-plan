{"format_version":"1.0","terraform_version":"1.1.7","planned_values":{"root_module":{"child_modules":[{"address":"module.vpc","child_modules":[{"resources":[{"address":"module.vpc.module.vpc.google_compute_network.network","mode":"managed","type":"google_compute_network","name":"network","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":"","gateway_ipv4":"","id":"projects/leszek-jinx-main/global/networks/example-vpc","mtu":0,"name":"example-vpc","project":"leszek-jinx-main","routing_mode":"GLOBAL","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","timeouts":null},"sensitive_values":{}}],"address":"module.vpc.module.vpc"},{"resources":[{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-01\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-01","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:38.828-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.10.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","ip_cidr_range":"10.10.10.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[],"name":"subnet-01","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[{"ip_cidr_range":"192.168.64.0/24","range_name":"subnet-01-secondary-01"}],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[],"secondary_ip_range":[{}]}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-02\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-02","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-03\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-03","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}}],"address":"module.vpc.module.subnets"},{"resources":[{"address":"module.vpc.module.routes.google_compute_route.route[\"app-proxy\"]","mode":"managed","type":"google_compute_route","name":"route","index":"app-proxy","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"description":"route through proxy to reach app","dest_range":"10.50.10.0/24","name":"app-proxy","network":"example-vpc","next_hop_gateway":null,"next_hop_ilb":null,"next_hop_instance":"app-proxy-instance","next_hop_instance_zone":"us-west1-a","next_hop_vpn_tunnel":null,"priority":1000,"project":"leszek-jinx-main","tags":["app-proxy"],"timeouts":null},"sensitive_values":{"tags":[false]}},{"address":"module.vpc.module.routes.google_compute_route.route[\"egress-internet\"]","mode":"managed","type":"google_compute_route","name":"route","index":"egress-internet","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"description":"route through IGW to access internet","dest_range":"0.0.0.0/0","id":"projects/leszek-jinx-main/global/routes/egress-internet","name":"egress-internet","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","next_hop_gateway":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/gateways/default-internet-gateway","next_hop_ilb":"","next_hop_instance":"","next_hop_instance_zone":null,"next_hop_ip":"","next_hop_network":"","next_hop_vpn_tunnel":"","priority":1000,"project":"leszek-jinx-main","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/routes/egress-internet","tags":["egress-inet"],"timeouts":null},"sensitive_values":{"tags":[false]}}],"address":"module.vpc.module.routes"}]}]}},"resource_drift":[{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-02\"]","module_address":"module.vpc.module.subnets","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-02","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["update"],"before":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":null}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"after":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"after_unknown":{},"before_sensitive":{"log_config":[{}],"secondary_ip_range":[]},"after_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-03\"]","module_address":"module.vpc.module.subnets","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-03","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["update"],"before":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":null}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"after":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"after_unknown":{},"before_sensitive":{"log_config":[{}],"secondary_ip_range":[]},"after_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}}}],"resource_changes":[{"address":"module.vpc.module.routes.google_compute_route.route[\"app-proxy\"]","module_address":"module.vpc.module.routes","mode":"managed","type":"google_compute_route","name":"route","index":"app-proxy","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"description":"route through proxy to reach app","dest_range":"10.50.10.0/24","name":"app-proxy","network":"example-vpc","next_hop_gateway":null,"next_hop_ilb":null,"next_hop_instance":"app-proxy-instance","next_hop_instance_zone":"us-west1-a","next_hop_vpn_tunnel":null,"priority":1000,"project":"leszek-jinx-main","tags":["app-proxy"],"timeouts":null},"after_unknown":{"id":true,"next_hop_ip":true,"next_hop_network":true,"self_link":true,"tags":[false]},"before_sensitive":false,"after_sensitive":{"tags":[false]}}},{"address":"module.vpc.module.routes.google_compute_route.route[\"egress-internet\"]","module_address":"module.vpc.module.routes","mode":"managed","type":"google_compute_route","name":"route","index":"egress-internet","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["no-op"],"before":{"description":"route through IGW to access internet","dest_range":"0.0.0.0/0","id":"projects/leszek-jinx-main/global/routes/egress-internet","name":"egress-internet","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","next_hop_gateway":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/gateways/default-internet-gateway","next_hop_ilb":"","next_hop_instance":"","next_hop_instance_zone":null,"next_hop_ip":"","next_hop_network":"","next_hop_vpn_tunnel":"","priority":1000,"project":"leszek-jinx-main","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/routes/egress-internet","tags":["egress-inet"],"timeouts":null},"after":{"description":"route through IGW to access internet","dest_range":"0.0.0.0/0","id":"projects/leszek-jinx-main/global/routes/egress-internet","name":"egress-internet","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","next_hop_gateway":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/gateways/default-internet-gateway","next_hop_ilb":"","next_hop_instance":"","next_hop_instance_zone":null,"next_hop_ip":"","next_hop_network":"","next_hop_vpn_tunnel":"","priority":1000,"project":"leszek-jinx-main","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/routes/egress-internet","tags":["egress-inet"],"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":[false]},"after_sensitive":{"tags":[false]}}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-01\"]","module_address":"module.vpc.module.subnets","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-01","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["no-op"],"before":{"creation_timestamp":"2022-03-24T04:38:38.828-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.10.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","ip_cidr_range":"10.10.10.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[],"name":"subnet-01","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[{"ip_cidr_range":"192.168.64.0/24","range_name":"subnet-01-secondary-01"}],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","stack_type":"IPV4_ONLY","timeouts":null},"after":{"creation_timestamp":"2022-03-24T04:38:38.828-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.10.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","ip_cidr_range":"10.10.10.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[],"name":"subnet-01","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[{"ip_cidr_range":"192.168.64.0/24","range_name":"subnet-01-secondary-01"}],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","stack_type":"IPV4_ONLY","timeouts":null},"after_unknown":{},"before_sensitive":{"log_config":[],"secondary_ip_range":[{}]},"after_sensitive":{"log_config":[],"secondary_ip_range":[{}]}}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-02\"]","module_address":"module.vpc.module.subnets","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-02","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["no-op"],"before":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"after":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"after_unknown":{},"before_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]},"after_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}}},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-03\"]","module_address":"module.vpc.module.subnets","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-03","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["no-op"],"before":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"after":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"after_unknown":{},"before_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]},"after_sensitive":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]}}},{"address":"module.vpc.module.vpc.google_compute_network.network","module_address":"module.vpc.module.vpc","mode":"managed","type":"google_compute_network","name":"network","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["no-op"],"before":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":"","gateway_ipv4":"","id":"projects/leszek-jinx-main/global/networks/example-vpc","mtu":0,"name":"example-vpc","project":"leszek-jinx-main","routing_mode":"GLOBAL","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","timeouts":null},"after":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":"","gateway_ipv4":"","id":"projects/leszek-jinx-main/global/networks/example-vpc","mtu":0,"name":"example-vpc","project":"leszek-jinx-main","routing_mode":"GLOBAL","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.1.7","values":{"root_module":{"child_modules":[{"address":"module.vpc","child_modules":[{"resources":[{"address":"module.vpc.module.routes.google_compute_route.route[\"egress-internet\"]","mode":"managed","type":"google_compute_route","name":"route","index":"egress-internet","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"description":"route through IGW to access internet","dest_range":"0.0.0.0/0","id":"projects/leszek-jinx-main/global/routes/egress-internet","name":"egress-internet","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","next_hop_gateway":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/gateways/default-internet-gateway","next_hop_ilb":"","next_hop_instance":"","next_hop_instance_zone":null,"next_hop_ip":"","next_hop_network":"","next_hop_vpn_tunnel":"","priority":1000,"project":"leszek-jinx-main","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/routes/egress-internet","tags":["egress-inet"],"timeouts":null},"sensitive_values":{"tags":[false]},"depends_on":["module.vpc.module.subnets.google_compute_subnetwork.subnetwork","module.vpc.module.vpc.google_compute_network.network"]}],"address":"module.vpc.module.routes"},{"resources":[{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-01\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-01","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:38.828-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.10.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","ip_cidr_range":"10.10.10.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[],"name":"subnet-01","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[{"ip_cidr_range":"192.168.64.0/24","range_name":"subnet-01-secondary-01"}],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-01","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[],"secondary_ip_range":[{}]},"depends_on":["module.vpc.module.vpc.google_compute_network.network"]},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-02\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-02","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:38.011-07:00","description":"This subnet has a description","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.20.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","ip_cidr_range":"10.10.20.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_5_SEC","filter_expr":"true","flow_sampling":0.5,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-02","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":true,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-02","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]},"depends_on":["module.vpc.module.vpc.google_compute_network.network"]},{"address":"module.vpc.module.subnets.google_compute_subnetwork.subnetwork[\"us-west1/subnet-03\"]","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","index":"us-west1/subnet-03","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"creation_timestamp":"2022-03-24T04:38:39.198-07:00","description":"","external_ipv6_prefix":"","fingerprint":null,"gateway_address":"10.10.30.1","id":"projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","ip_cidr_range":"10.10.30.0/24","ipv6_access_type":"","ipv6_cidr_range":"","log_config":[{"aggregation_interval":"INTERVAL_10_MIN","filter_expr":"true","flow_sampling":0.7,"metadata":"INCLUDE_ALL_METADATA","metadata_fields":[]}],"name":"subnet-03","network":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","private_ip_google_access":false,"private_ipv6_google_access":"DISABLE_GOOGLE_ACCESS","project":"leszek-jinx-main","purpose":"PRIVATE","region":"us-west1","role":"","secondary_ip_range":[],"self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/regions/us-west1/subnetworks/subnet-03","stack_type":"IPV4_ONLY","timeouts":null},"sensitive_values":{"log_config":[{"metadata_fields":[]}],"secondary_ip_range":[]},"depends_on":["module.vpc.module.vpc.google_compute_network.network"]}],"address":"module.vpc.module.subnets"},{"resources":[{"address":"module.vpc.module.vpc.google_compute_network.network","mode":"managed","type":"google_compute_network","name":"network","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":"","gateway_ipv4":"","id":"projects/leszek-jinx-main/global/networks/example-vpc","mtu":0,"name":"example-vpc","project":"leszek-jinx-main","routing_mode":"GLOBAL","self_link":"https://www.googleapis.com/compute/v1/projects/leszek-jinx-main/global/networks/example-vpc","timeouts":null},"sensitive_values":{}}],"address":"module.vpc.module.vpc"}]}]}}},"configuration":{"provider_config":{"module.vpc.module.firewall_rules:google":{"name":"google","version_constraint":"\u003e= 2.12.0, \u003c 5.0.0","module_address":"module.vpc.module.firewall_rules"},"module.vpc.module.routes:google":{"name":"google","version_constraint":"\u003e= 2.12.0, \u003c 5.0.0","module_address":"module.vpc.module.routes"},"module.vpc.module.subnets:google":{"name":"google","version_constraint":"\u003e= 2.12.0, \u003c 5.0.0","module_address":"module.vpc.module.subnets"},"module.vpc.module.vpc:google":{"name":"google","version_constraint":"\u003e= 3.45.0","module_address":"module.vpc.module.vpc"},"module.vpc.module.vpc:google-beta":{"name":"google-beta","version_constraint":"\u003e= 3.45.0","module_address":"module.vpc.module.vpc"},"module.vpc:google":{"name":"google","version_constraint":"\u003e= 2.12.0, \u003c 5.0.0","module_address":"module.vpc"},"module.vpc:google-beta":{"name":"google-beta","version_constraint":"\u003e= 3.45.0, \u003c 5.0.0","module_address":"module.vpc"}},"root_module":{"module_calls":{"vpc":{"source":"terraform-google-modules/network/google","expressions":{"network_name":{"constant_value":"example-vpc"},"project_id":{"constant_value":"leszek-jinx-main"},"routes":{"constant_value":[{"description":"route through IGW to access internet","destination_range":"0.0.0.0/0","name":"egress-internet","next_hop_internet":"true","tags":"egress-inet"},{"description":"route through proxy to reach app","destination_range":"10.50.10.0/24","name":"app-proxy","next_hop_instance":"app-proxy-instance","next_hop_instance_zone":"us-west1-a","tags":"app-proxy"}]},"routing_mode":{"constant_value":"GLOBAL"},"secondary_ranges":{"constant_value":{"subnet-01":[{"ip_cidr_range":"192.168.64.0/24","range_name":"subnet-01-secondary-01"}],"subnet-02":[]}},"subnets":{"constant_value":[{"subnet_ip":"10.10.10.0/24","subnet_name":"subnet-01","subnet_region":"us-west1"},{"description":"This subnet has a description","subnet_flow_logs":"true","subnet_ip":"10.10.20.0/24","subnet_name":"subnet-02","subnet_private_access":"true","subnet_region":"us-west1"},{"subnet_flow_logs":"true","subnet_flow_logs_interval":"INTERVAL_10_MIN","subnet_flow_logs_metadata":"INCLUDE_ALL_METADATA","subnet_flow_logs_sampling":0.7,"subnet_ip":"10.10.30.0/24","subnet_name":"subnet-03","subnet_region":"us-west1"}]}},"module":{"outputs":{"network":{"expression":{"references":["module.vpc"]},"description":"The created network"},"network_id":{"expression":{"references":["module.vpc.network_id","module.vpc"]},"description":"The ID of the VPC being created"},"network_name":{"expression":{"references":["module.vpc.network_name","module.vpc"]},"description":"The name of the VPC being created"},"network_self_link":{"expression":{"references":["module.vpc.network_self_link","module.vpc"]},"description":"The URI of the VPC being created"},"project_id":{"expression":{"references":["module.vpc.project_id","module.vpc"]},"description":"VPC project id"},"route_names":{"expression":{"references":["module.routes.routes","module.routes"]},"description":"The route names associated with this VPC"},"subnets":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"A map with keys of form subnet_region/subnet_name and values being the outputs of the google_compute_subnetwork resources used to create corresponding subnets."},"subnets_flow_logs":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"Whether the subnets will have VPC flow logs enabled"},"subnets_ids":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The IDs of the subnets being created"},"subnets_ips":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The IPs and CIDRs of the subnets being created"},"subnets_names":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The names of the subnets being created"},"subnets_private_access":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"Whether the subnets will have access to Google API's without a public IP"},"subnets_regions":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The region where the subnets will be created"},"subnets_secondary_ranges":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The secondary ranges associated with these subnets"},"subnets_self_links":{"expression":{"references":["module.subnets.subnets","module.subnets"]},"description":"The self-links of subnets being created"}},"module_calls":{"firewall_rules":{"source":"./modules/firewall-rules","expressions":{"network_name":{"references":["module.vpc.network_name","module.vpc"]},"project_id":{"references":["var.project_id"]},"rules":{"references":["local.rules"]}},"module":{"outputs":{"firewall_rules":{"expression":{"references":["google_compute_firewall.rules"]},"description":"The created firewall rule resources"}},"resources":[{"address":"google_compute_firewall.rules","mode":"managed","type":"google_compute_firewall","name":"rules","provider_config_key":"firewall_rules:google","expressions":{"description":{"references":["each.value.description","each.value"]},"destination_ranges":{"references":["each.value.direction","each.value","each.value.ranges","each.value"]},"direction":{"references":["each.value.direction","each.value"]},"name":{"references":["each.value.name","each.value"]},"network":{"references":["var.network_name"]},"priority":{"references":["each.value.priority","each.value"]},"project":{"references":["var.project_id"]},"source_ranges":{"references":["each.value.direction","each.value","each.value.ranges","each.value"]},"source_service_accounts":{"references":["each.value.source_service_accounts","each.value"]},"source_tags":{"references":["each.value.source_tags","each.value"]},"target_service_accounts":{"references":["each.value.target_service_accounts","each.value"]},"target_tags":{"references":["each.value.target_tags","each.value"]}},"schema_version":1,"for_each_expression":{"references":["var.rules"]}}],"variables":{"network_name":{"description":"Name of the network this set of firewall rules applies to."},"project_id":{"description":"Project id of the project that holds the network."},"rules":{"default":[],"description":"List of custom rule definitions (refer to variables file for syntax)."}}}},"routes":{"source":"./modules/routes","expressions":{"module_depends_on":{"references":["module.subnets.subnets","module.subnets"]},"network_name":{"references":["module.vpc.network_name","module.vpc"]},"project_id":{"references":["var.project_id"]},"routes":{"references":["var.routes"]}},"module":{"outputs":{"routes":{"expression":{"references":["google_compute_route.route"]},"description":"The created routes resources"}},"resources":[{"address":"google_compute_route.route","mode":"managed","type":"google_compute_route","name":"route","provider_config_key":"routes:google","expressions":{"description":{"references":["each.value"]},"dest_range":{"references":["each.value"]},"name":{"references":["each.key"]},"network":{"references":["var.network_name"]},"next_hop_gateway":{"references":["each.value"]},"next_hop_ilb":{"references":["each.value"]},"next_hop_instance":{"references":["each.value"]},"next_hop_instance_zone":{"references":["each.value"]},"next_hop_ip":{"references":["each.value"]},"next_hop_vpn_tunnel":{"references":["each.value"]},"priority":{"references":["each.value"]},"project":{"references":["var.project_id"]},"tags":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.routes"]},"depends_on":["var.module_depends_on"]}],"variables":{"module_depends_on":{"default":[],"description":"List of modules or resources this module depends on."},"network_name":{"description":"The name of the network where routes will be created"},"project_id":{"description":"The ID of the project where the routes will be created"},"routes":{"default":[],"description":"List of routes being created in this VPC"}}}},"subnets":{"source":"./modules/subnets","expressions":{"network_name":{"references":["module.vpc.network_name","module.vpc"]},"project_id":{"references":["var.project_id"]},"secondary_ranges":{"references":["var.secondary_ranges"]},"subnets":{"references":["var.subnets"]}},"module":{"outputs":{"subnets":{"expression":{"references":["google_compute_subnetwork.subnetwork"]},"description":"The created subnet resources"}},"resources":[{"address":"google_compute_subnetwork.subnetwork","mode":"managed","type":"google_compute_subnetwork","name":"subnetwork","provider_config_key":"subnets:google","expressions":{"description":{"references":["each.value"]},"ip_cidr_range":{"references":["each.value.subnet_ip","each.value"]},"name":{"references":["each.value.subnet_name","each.value"]},"network":{"references":["var.network_name"]},"private_ip_google_access":{"references":["each.value"]},"project":{"references":["var.project_id"]},"purpose":{"references":["each.value"]},"region":{"references":["each.value.subnet_region","each.value"]},"role":{"references":["each.value"]},"secondary_ip_range":{"references":["var.secondary_ranges","each.value.subnet_name","each.value","var.secondary_ranges","each.value.subnet_name","each.value","var.secondary_ranges","each.value.subnet_name","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.subnets"]}}],"variables":{"network_name":{"description":"The name of the network where subnets will be created"},"project_id":{"description":"The ID of the project where subnets will be created"},"secondary_ranges":{"default":{},"description":"Secondary ranges that will be used in some of the subnets"},"subnets":{"description":"The list of subnets being created"}}}},"vpc":{"source":"./modules/vpc","expressions":{"auto_create_subnetworks":{"references":["var.auto_create_subnetworks"]},"delete_default_internet_gateway_routes":{"references":["var.delete_default_internet_gateway_routes"]},"description":{"references":["var.description"]},"mtu":{"references":["var.mtu"]},"network_name":{"references":["var.network_name"]},"project_id":{"references":["var.project_id"]},"routing_mode":{"references":["var.routing_mode"]},"shared_vpc_host":{"references":["var.shared_vpc_host"]}},"module":{"outputs":{"network":{"expression":{"references":["google_compute_network.network"]},"description":"The VPC resource being created"},"network_id":{"expression":{"references":["google_compute_network.network.id","google_compute_network.network"]},"description":"The ID of the VPC being created"},"network_name":{"expression":{"references":["google_compute_network.network.name","google_compute_network.network"]},"description":"The name of the VPC being created"},"network_self_link":{"expression":{"references":["google_compute_network.network.self_link","google_compute_network.network"]},"description":"The URI of the VPC being created"},"project_id":{"expression":{"references":["var.shared_vpc_host","google_compute_shared_vpc_host_project.shared_vpc_host","google_compute_shared_vpc_host_project.shared_vpc_host","google_compute_network.network.project","google_compute_network.network"]},"description":"VPC project id"}},"resources":[{"address":"google_compute_network.network","mode":"managed","type":"google_compute_network","name":"network","provider_config_key":"vpc:google","expressions":{"auto_create_subnetworks":{"references":["var.auto_create_subnetworks"]},"delete_default_routes_on_create":{"references":["var.delete_default_internet_gateway_routes"]},"description":{"references":["var.description"]},"mtu":{"references":["var.mtu"]},"name":{"references":["var.network_name"]},"project":{"references":["var.project_id"]},"routing_mode":{"references":["var.routing_mode"]}},"schema_version":0},{"address":"google_compute_shared_vpc_host_project.shared_vpc_host","mode":"managed","type":"google_compute_shared_vpc_host_project","name":"shared_vpc_host","provider_config_key":"vpc:google-beta","expressions":{"project":{"references":["var.project_id"]}},"schema_version":0,"count_expression":{"references":["var.shared_vpc_host"]},"depends_on":["google_compute_network.network"]}],"variables":{"auto_create_subnetworks":{"default":false,"description":"When set to true, the network is created in 'auto subnet mode' and it will create a subnet for each region automatically across the 10.128.0.0/9 address range. When set to false, the network is created in 'custom subnet mode' so the user can explicitly connect subnetwork resources."},"delete_default_internet_gateway_routes":{"default":false,"description":"If set, ensure that all routes within the network specified whose names begin with 'default-route' and with a next hop of 'default-internet-gateway' are deleted"},"description":{"default":"","description":"An optional description of this resource. The resource must be recreated to modify this field."},"mtu":{"default":0,"description":"The network MTU. Must be a value between 1460 and 1500 inclusive. If set to 0 (meaning MTU is unset), the network will default to 1460 automatically."},"network_name":{"description":"The name of the network being created"},"project_id":{"description":"The ID of the project where this VPC will be created"},"routing_mode":{"default":"GLOBAL","description":"The network routing mode (default 'GLOBAL')"},"shared_vpc_host":{"default":false,"description":"Makes this project a Shared VPC host if 'true' (default 'false')"}}}}},"variables":{"auto_create_subnetworks":{"default":false,"description":"When set to true, the network is created in 'auto subnet mode' and it will create a subnet for each region automatically across the 10.128.0.0/9 address range. When set to false, the network is created in 'custom subnet mode' so the user can explicitly connect subnetwork resources."},"delete_default_internet_gateway_routes":{"default":false,"description":"If set, ensure that all routes within the network specified whose names begin with 'default-route' and with a next hop of 'default-internet-gateway' are deleted"},"description":{"default":"","description":"An optional description of this resource. The resource must be recreated to modify this field."},"firewall_rules":{"default":[],"description":"List of firewall rules"},"mtu":{"default":0,"description":"The network MTU. Must be a value between 1460 and 1500 inclusive. If set to 0 (meaning MTU is unset), the network will default to 1460 automatically."},"network_name":{"description":"The name of the network being created"},"project_id":{"description":"The ID of the project where this VPC will be created"},"routes":{"default":[],"description":"List of routes being created in this VPC"},"routing_mode":{"default":"GLOBAL","description":"The network routing mode (default 'GLOBAL')"},"secondary_ranges":{"default":{},"description":"Secondary ranges that will be used in some of the subnets"},"shared_vpc_host":{"default":false,"description":"Makes this project a Shared VPC host if 'true' (default 'false')"},"subnets":{"description":"The list of subnets being created"}}},"version_constraint":"~\u003e 4.0"}}}}}
